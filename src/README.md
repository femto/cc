# CLI.js æ‹†åˆ†æ–¹æ¡ˆ

## é—®é¢˜

åŸå§‹çš„ `cli.js` æ–‡ä»¶ï¼š
- **496,069 è¡Œä»£ç **
- **15MB æ–‡ä»¶å¤§å°**
- å®Œå…¨æ— æ³•åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€æˆ–æœç´¢
- æ˜¯ä¸€ä¸ªå‹ç¼©æ‰“åŒ…çš„æ–‡ä»¶ï¼Œå˜é‡åå·²æ··æ·†

## è§£å†³æ–¹æ¡ˆ

å·²å°† `cli.js` æ‹†åˆ†ä¸º 10 ä¸ªè¾ƒå°çš„æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ `src/parts/` ç›®å½•ï¼š

| æ–‡ä»¶ | è¡Œæ•° | å¤§å° | è¯´æ˜ |
|------|------|------|------|
| part-00-header.js | 1 | 20B | Shebang è¡Œ |
| part-01-utils.js | 60,000 | 1.8MB | å·¥å…·å‡½æ•°å’Œhelpers |
| part-02-aws-sdk.js | 60,000 | 1.9MB | AWS SDK ç›¸å…³ä»£ç  |
| part-03-dependencies.js | 60,000 | 1.9MB | å…¶ä»–ä¾èµ–åº“ |
| part-04-core.js | 60,000 | 2.0MB | æ ¸å¿ƒåŠŸèƒ½ |
| part-05-cli.js | 60,000 | 2.1MB | CLI è§£æå’Œå‘½ä»¤ |
| part-06-api.js | 60,000 | 1.7MB | API å®¢æˆ·ç«¯ |
| part-07-tools.js | 60,000 | 1.9MB | å·¥å…·å®ç° |
| part-08-runtime.js | 60,000 | 1.6MB | è¿è¡Œæ—¶é€»è¾‘ |
| part-09-main.js | 16,069 | 441KB | ä¸»å…¥å£ç‚¹ |

**æ€»è®¡**: 496,069 è¡Œï¼Œ15MB

## ä¼˜åŠ¿

âœ… **å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€** - æ¯ä¸ªæ–‡ä»¶åªæœ‰ 1-2MB
âœ… **å¯ä»¥æœç´¢** - åœ¨å•ä¸ªæ–‡ä»¶ä¸­æœç´¢å…³é”®è¯
âœ… **å¯ä»¥å¯¼èˆª** - æ‰¾åˆ°ç›¸å…³ä»£ç æ®µ
âœ… **æ›´å¥½çš„ Git ç®¡ç†** - å¯ä»¥çœ‹åˆ°å“ªä¸ªéƒ¨åˆ†è¢«ä¿®æ”¹
âœ… **ç­‰ä»·å˜æ¢** - åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æ‹†åˆ†äº†æ–‡ä»¶

## å¦‚ä½•ä½¿ç”¨

### æ–¹å¼ 1: ä½¿ç”¨åŸå§‹çš„ cli.jsï¼ˆå¦‚æœç¼–è¾‘å™¨å¯ä»¥åŠ è½½ï¼‰

```bash
./cli.js "your prompt"
```

### æ–¹å¼ 2: é‡æ–°åˆå¹¶æ‹†åˆ†çš„æ–‡ä»¶

å¦‚æœéœ€è¦é‡æ–°ç”Ÿæˆå•ä¸ªæ–‡ä»¶ï¼š

```bash
cd /code
cat src/parts/part-00-header.js \
    src/parts/part-01-utils.js \
    src/parts/part-02-aws-sdk.js \
    src/parts/part-03-dependencies.js \
    src/parts/part-04-core.js \
    src/parts/part-05-cli.js \
    src/parts/part-06-api.js \
    src/parts/part-07-tools.js \
    src/parts/part-08-runtime.js \
    src/parts/part-09-main.js > cli-rebuilt.js

chmod +x cli-rebuilt.js
./cli-rebuilt.js "your prompt"
```

### æ–¹å¼ 3: ä½¿ç”¨åˆå¹¶è„šæœ¬

```bash
npm run build:cli
./cli-rebuilt.js "your prompt"
```

## æœç´¢ç‰¹å®šåŠŸèƒ½

ç°åœ¨ä½ å¯ä»¥è½»æ¾æœç´¢ç‰¹å®šåŠŸèƒ½äº†ï¼š

```bash
# æœç´¢ Bedrock ç›¸å…³ä»£ç 
grep -n "bedrock" src/parts/part-06-api.js

# æœç´¢ Anthropic API
grep -n "anthropic" src/parts/part-06-api.js

# æœç´¢å‘½ä»¤è¡Œå‚æ•°å¤„ç†
grep -n "commander\|argument\|option" src/parts/part-05-cli.js

# æœç´¢é…ç½®ç®¡ç†
grep -n "config\|CONFIG" src/parts/part-04-core.js
```

## æŸ¥çœ‹ç‰¹å®šåŒºåŸŸ

```bash
# æŸ¥çœ‹ API å¸¸é‡å®šä¹‰ï¼ˆåœ¨ç¬¬ 47000-47100 è¡Œé™„è¿‘ï¼‰
sed -n '47000,47100p' cli.js
# ç°åœ¨ç­‰ä»·äºï¼š
head -n 7100 src/parts/part-01-utils.js | tail -n 100

# æŸ¥çœ‹ Bedrock é…ç½®ï¼ˆåœ¨ç¬¬ 89000 è¡Œé™„è¿‘ï¼‰
# ç°åœ¨åœ¨ part-02-aws-sdk.js çš„ç¬¬ 29000 è¡Œé™„è¿‘
sed -n '29000,29100p' src/parts/part-02-aws-sdk.js
```

## æ–‡ä»¶å¯¹åº”å…³ç³»

åŸå§‹è¡Œå·åˆ°æ‹†åˆ†æ–‡ä»¶çš„æ˜ å°„ï¼š

- è¡Œ 1: `part-00-header.js` ç¬¬ 1 è¡Œ
- è¡Œ 2 - 60,000: `part-01-utils.js` ç¬¬ 1-59,999 è¡Œ
- è¡Œ 60,001 - 120,000: `part-02-aws-sdk.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 120,001 - 180,000: `part-03-dependencies.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 180,001 - 240,000: `part-04-core.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 240,001 - 300,000: `part-05-cli.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 300,001 - 360,000: `part-06-api.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 360,001 - 420,000: `part-07-tools.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 420,001 - 480,000: `part-08-runtime.js` ç¬¬ 1-60,000 è¡Œ
- è¡Œ 480,001 - 496,069: `part-09-main.js` ç¬¬ 1-16,069 è¡Œ

## é‡è¦æç¤º

âš ï¸ è¿™äº›æ–‡ä»¶ä»ç„¶æ˜¯**å‹ç¼©æ‰“åŒ…çš„ä»£ç **ï¼Œå˜é‡åå·²æ··æ·†ï¼ˆå¦‚ `$Q9`, `HQ9` ç­‰ï¼‰ã€‚

å¦‚æœä½ æƒ³è¦**çœŸæ­£å¯è¯»çš„æ¨¡å—åŒ–ä»£ç **ï¼Œéœ€è¦ï¼š

1. ä½¿ç”¨æºç æ˜ å°„ï¼ˆsource mapï¼‰æ‰¾åˆ°åŸå§‹æºç 
2. æˆ–è€…è®¿é—® Anthropic çš„ Claude Code å¼€æºä»“åº“
3. æˆ–è€…åŸºäºåŠŸèƒ½é‡æ–°å®ç°ä¸€ä¸ªæ¨¡å—åŒ–ç‰ˆæœ¬

ä½†å¯¹äº**å¿«é€Ÿæœç´¢å’ŒæŸ¥æ‰¾ç‰¹å®šåŠŸèƒ½**ï¼Œè¿™ä¸ªæ‹†åˆ†å·²ç»è¶³å¤Ÿæœ‰ç”¨äº†ï¼

## ä¸‹ä¸€æ­¥

å¦‚æœéœ€è¦è¿›ä¸€æ­¥çš„æ¨¡å—åŒ–ï¼š

1. âœ… **å·²å®Œæˆ**: æ‹†åˆ†å¤§æ–‡ä»¶ä¸ºè¾ƒå°çš„éƒ¨åˆ†
2. ğŸ”„ **å¯é€‰**: ä½¿ç”¨å·¥å…·å°è¯•åæ··æ·†ä»£ç 
3. ğŸ”„ **å¯é€‰**: åŸºäºåŠŸèƒ½é‡æ–°å®ç°å¹²å‡€çš„æ¨¡å—åŒ–ç‰ˆæœ¬
4. ğŸ”„ **å¯é€‰**: æ·»åŠ ç±»å‹å®šä¹‰å’Œæ–‡æ¡£
